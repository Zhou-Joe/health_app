<view class="checkups-container">
  <view class="checkup-list">
    <block wx:if="{{checkups.length > 0}}">
      <view class="checkup-item card" wx:for="{{checkups}}" wx:key="id">
        <view class="checkup-header" bindtap="goToDetail" data-id="{{item.id}}">
          <text class="main-title">{{item.notes || item.checkup_date}}</text>
          <view class="header-right">
            <view class="status-badge status-{{item.status}}">
              {{item.status === 'completed' ? '已完成' : '处理中'}}
            </view>
          </view>
        </view>
        <view class="checkup-body" bindtap="goToDetail" data-id="{{item.id}}">
          <text class="checkup-date">{{item.checkup_date}}</text>
          <text class="hospital">{{item.hospital || '未知机构'}}</text>
          <text class="indicator-count">{{item.indicators_count}}项指标</text>
        </view>
        <view class="checkup-footer">
          <view class="footer-left" bindtap="goToDetail" data-id="{{item.id}}">
            <text class="view-detail">查看详情 ></text>
          </view>
          <view class="footer-right">
            <text class="delete-btn" catchtap="deleteCheckup" data-id="{{item.id}}">删除</text>
          </view>
        </view>
      </view>
    </block>
    <view class="empty-container" wx:else>
      <image class="empty-icon" src="/images/empty.png"></image>
      <text class="empty-text">暂无体检报告</text>
      <button class="btn-primary mt-20" bindtap="goToUpload">上传第一份报告</button>
    </view>
  </view>
</view>
