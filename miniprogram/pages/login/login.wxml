<!--pages/login/login.wxml-->
<view class="login-container">
  <view class="login-header">
    <text class="app-name">健康档案</text>
    <text class="app-desc">智能健康管理系统</text>
  </view>

  <view class="login-form">
    <!-- 微信一键登录 -->
    <button class="wechat-login-btn"
            bindtap="handleWechatLogin"
            loading="{{wechatLoading}}">
      <text class="btn-icon">📱</text>
      <text>{{wechatLoading ? '登录中...' : '微信一键登录'}}</text>
    </button>

    <view class="divider">
      <view class="divider-line"></view>
      <text class="divider-text">或</text>
      <view class="divider-line"></view>
    </view>

    <!-- 账号密码登录 -->
    <view class="form-item">
      <input class="input-field"
             placeholder="请输入用户名"
             value="{{username}}"
             bindinput="onUsernameInput" />
    </view>

    <view class="form-item">
      <input class="input-field"
             placeholder="请输入密码"
             password
             value="{{password}}"
             bindinput="onPasswordInput" />
    </view>

    <button class="login-btn"
            bindtap="handleLogin"
            loading="{{loading}}">
      {{loading ? '登录中...' : '登录'}}
    </button>

    <view class="login-tips">
      <text class="tip-text">测试账号：直接输入任意用户名和密码即可</text>
    </view>
  </view>

  <view class="login-footer">
    <text class="footer-text">登录即表示同意《用户协议》和《隐私政策》</text>
  </view>
</view>
